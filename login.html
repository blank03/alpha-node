<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">
    <link rel="icon" href="images/log1.png">
    <link rel="stylesheet" type="text/css" href="login.css">
    <title>Login</title>
  </head>
  <body>
    <div class="logo-banner">
    <img src="images/log1.png" style="height: 80px; width: 270px; margin-left: 608px; margin-top: 100px;"><br>
    </div>
    <div class="form-container">

      <h1>Login</h1>

    <form method="POST">
      <input type="text" placeholder="Username" class="field" id="user">
      <input type="password" placeholder="Password" class="field" id="pass">
      <input type="submit" value="Login" class="btn" id="submit">
    </form>

    
    <script>
      const user = document.querySelector("#user");
      const pass = document.querySelector("#pass");
      const enter = document.querySelector("#submit");

      enter.addEventListener("click", function () {
        db.collection("users")
          .where("username", "==", user.value)
          .get()
          .then(function (querySnapshot) {
            querySnapshot.forEach(function (doc) {
              if (pass.value == doc.data().password) {
                localStorage.setItem("currentuser", doc.id);
                window.location.href = "booking.html";
              }
            });
          });
      });
    </script>
    <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-firestore.js"></script>

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyDExVy8sBEK6ZFayQiesGcwZ9KmDc16a1M",
        authDomain: "alpha-node-60c66.firebaseapp.com",
        databaseURL: "https://alpha-node-60c66.firebaseio.com",
        projectId: "alpha-node-60c66",
        storageBucket: "alpha-node-60c66.appspot.com",
        messagingSenderId: "201350511948",
        appId: "1:201350511948:web:2e2a7a76ac51f1e9aea3e9",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      var db = firebase.firestore();
    </script>
  </body>
</html>
